"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[789],{9789:function(e,a,n){n.r(a),n.d(a,{default:function(){return P}});var t=n(5861),l=n(885),r=n(4687),i=n.n(r),s=n(5048),o=n(4494),d=n(2791),m=n(3978),u=n(7205),c=n(3793),h=n(9516),p=n(6283),x=n(5953),Z=n(6015),f=n(403),g=n(4565),j=n(803),w=n(4360),v=n(7012),b=n(1501),y=n(184),C=(0,w.Z)();function P(){var e=(0,d.useState)(null),a=(0,l.Z)(e,2),n=a[0],r=a[1],w=(0,d.useState)(null),P=(0,l.Z)(w,2),S=P[0],W=P[1],_=(0,d.useState)(null),k=(0,l.Z)(_,2),q=k[0],I=k[1],D=(0,d.useState)(null),F=(0,l.Z)(D,2),U=F[0],A=F[1],T=(0,s.I0)(),B=function(){var e=(0,t.Z)(i().mark((function e(a){var n,t,l,s,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=new FormData(a.currentTarget),e.next=4,T(o.Z.register({name:n.get("name"),email:n.get("email"),password:n.get("password")}));case 4:t=e.sent,console.log(t.payload),l=a.target.elements.name.value,s=a.target.elements.password.value.length,d=a.target.elements.email.value,W(""===l||null),A(s<7||null),void 0===t.payload.message?I("User with this email already exists"):I(null),"User validation failed: email: Invalid email."===t.payload.message||""===d?r(!0):r(null);case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,y.jsx)(v.Z,{theme:C,children:(0,y.jsxs)(j.Z,{component:"main",maxWidth:"xs",children:[(0,y.jsx)(c.ZP,{}),(0,y.jsxs)(Z.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,y.jsx)(m.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,y.jsx)(f.Z,{})}),(0,y.jsx)(g.Z,{component:"h1",variant:"h5",children:"Sign up"}),(0,y.jsxs)(Z.Z,{component:"form",noValidate:!0,onSubmit:B,sx:{mt:3},children:[(0,y.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,y.jsx)(x.ZP,{item:!0,xs:12,children:S?(0,y.jsx)(h.Z,{error:!0,autoComplete:"given-name",name:"name",required:!0,fullWidth:!0,id:"name",label:"Invalid name",autoFocus:!0}):(0,y.jsx)(h.Z,{autoComplete:"given-name",name:"name",required:!0,fullWidth:!0,id:"name",label:"Name",autoFocus:!0})}),(0,y.jsxs)(x.ZP,{item:!0,xs:12,children:[q&&(0,y.jsx)(b.Z,{variant:"outlined",severity:"error",style:{marginBottom:"15px"},children:q}),n?(0,y.jsx)(h.Z,{required:!0,fullWidth:!0,error:!0,id:"email",label:"Invalid email",name:"email",autoComplete:"email"}):(0,y.jsx)(h.Z,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})]}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:U?(0,y.jsx)(h.Z,{required:!0,fullWidth:!0,error:!0,name:"password",label:"Password is shorter than the minimum allowed length (7)",type:"password",id:"password",autoComplete:"new-password"}):(0,y.jsx)(h.Z,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})})]}),(0,y.jsx)(u.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),(0,y.jsx)(x.ZP,{container:!0,justifyContent:"flex-end",children:(0,y.jsx)(x.ZP,{item:!0,children:(0,y.jsx)(p.Z,{href:"login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})})}}}]);
//# sourceMappingURL=789.cbdea661.chunk.js.map